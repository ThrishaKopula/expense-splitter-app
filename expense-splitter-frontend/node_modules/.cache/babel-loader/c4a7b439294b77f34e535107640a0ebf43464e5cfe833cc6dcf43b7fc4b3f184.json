{"ast":null,"code":"var _jsxFileName = \"/Users/thrishakopula/Desktop/Projects/expense-splitter-app/expense-splitter-frontend/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { getExpenses, createExpense, deleteExpense } from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard({\n  user,\n  onLogout\n}) {\n  _s();\n  const queryClient = useQueryClient();\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const {\n    data: expenses = [],\n    isLoading\n  } = useQuery({\n    queryKey: [\"expenses\", user === null || user === void 0 ? void 0 : user.id],\n    queryFn: () => getExpenses(user.id),\n    enabled: !!user\n  });\n  const addMutation = useMutation({\n    mutationFn: newExpense => createExpense(user.id, newExpense),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [\"expenses\", user.id]\n      });\n      setDescription(\"\");\n      setAmount(\"\");\n      setShowAddForm(false);\n    }\n  });\n  const deleteMutation = useMutation({\n    mutationFn: id => deleteExpense(id),\n    onSuccess: () => queryClient.invalidateQueries({\n      queryKey: [\"expenses\", user.id]\n    })\n  });\n  const handleAddExpense = e => {\n    e.preventDefault();\n    if (!description || !amount) return;\n    addMutation.mutate({\n      description,\n      amount: parseFloat(amount),\n      category: null\n    });\n  };\n  if (!user) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading user...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 21\n  }, this);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading expenses...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"2rem\",\n      maxWidth: \"600px\",\n      margin: \"0 auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        marginBottom: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Welcome, \", user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        style: {\n          padding: \"0.5rem 1rem\"\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddForm(!showAddForm),\n      style: {\n        marginBottom: \"1rem\",\n        padding: \"0.5rem 1rem\",\n        backgroundColor: \"green\"\n      },\n      children: showAddForm ? \"Cancel\" : \"Add Expense\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddExpense,\n      style: {\n        marginBottom: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Description\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        style: {\n          display: \"block\",\n          width: \"100%\",\n          marginBottom: \"0.5rem\",\n          padding: \"0.5rem\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Amount\",\n        value: amount,\n        onChange: e => setAmount(e.target.value),\n        style: {\n          display: \"block\",\n          width: \"100%\",\n          marginBottom: \"0.5rem\",\n          padding: \"0.5rem\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: \"0.5rem 1rem\"\n        },\n        children: addMutation.isPending ? \"Adding...\" : \"Add Expense\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Your Expenses\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), expenses.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No expenses yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: 0\n      },\n      children: expenses.map(exp => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          padding: \"0.5rem 0\",\n          borderBottom: \"1px solid #ccc\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [exp.description, \" - $\", exp.amount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteMutation.mutate(exp.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this)]\n      }, exp.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"Gh5RGBHiYECnXJd28RUU8ADqyg0=\", false, function () {\n  return [useQueryClient, useQuery, useMutation, useMutation];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useState","useQuery","useMutation","useQueryClient","getExpenses","createExpense","deleteExpense","jsxDEV","_jsxDEV","Dashboard","user","onLogout","_s","queryClient","showAddForm","setShowAddForm","description","setDescription","amount","setAmount","data","expenses","isLoading","queryKey","id","queryFn","enabled","addMutation","mutationFn","newExpense","onSuccess","invalidateQueries","deleteMutation","handleAddExpense","e","preventDefault","mutate","parseFloat","category","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","maxWidth","margin","display","justifyContent","marginBottom","name","onClick","backgroundColor","onSubmit","type","placeholder","value","onChange","target","width","isPending","length","listStyle","map","exp","borderBottom","toFixed","_c","$RefreshReg$"],"sources":["/Users/thrishakopula/Desktop/Projects/expense-splitter-app/expense-splitter-frontend/src/components/Dashboard.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { getExpenses, createExpense, deleteExpense } from \"../api/api\";\n\nfunction Dashboard({ user, onLogout }) {\n  const queryClient = useQueryClient();\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n\n  const { data: expenses = [], isLoading } = useQuery({\n    queryKey: [\"expenses\", user?.id],\n    queryFn: () => getExpenses(user.id),\n    enabled: !!user,\n  });\n\n  const addMutation = useMutation({\n    mutationFn: (newExpense) => createExpense(user.id, newExpense),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"expenses\", user.id] });\n      setDescription(\"\");\n      setAmount(\"\");\n      setShowAddForm(false);\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: (id) => deleteExpense(id),\n    onSuccess: () => queryClient.invalidateQueries({ queryKey: [\"expenses\", user.id] }),\n  });\n\n  const handleAddExpense = (e) => {\n    e.preventDefault();\n    if (!description || !amount) return;\n    addMutation.mutate({ description, amount: parseFloat(amount), category: null });\n  };\n\n  if (!user) return <p>Loading user...</p>;\n  if (isLoading) return <p>Loading expenses...</p>;\n\n  return (\n    <div style={{ padding: \"2rem\", maxWidth: \"600px\", margin: \"0 auto\" }}>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: \"1rem\" }}>\n        <h2>Welcome, {user.name}</h2>\n        <button onClick={onLogout} style={{ padding: \"0.5rem 1rem\" }}>Logout</button>\n      </div>\n\n      <button\n        onClick={() => setShowAddForm(!showAddForm)}\n        style={{ marginBottom: \"1rem\", padding: \"0.5rem 1rem\", backgroundColor: \"green\" }}\n      >\n        {showAddForm ? \"Cancel\" : \"Add Expense\"}\n      </button>\n\n      {showAddForm && (\n        <form onSubmit={handleAddExpense} style={{ marginBottom: \"1rem\" }}>\n          <input\n            type=\"text\"\n            placeholder=\"Description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            style={{ display: \"block\", width: \"100%\", marginBottom: \"0.5rem\", padding: \"0.5rem\" }}\n          />\n          <input\n            type=\"number\"\n            placeholder=\"Amount\"\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            style={{ display: \"block\", width: \"100%\", marginBottom: \"0.5rem\", padding: \"0.5rem\" }}\n          />\n          <button type=\"submit\" style={{ padding: \"0.5rem 1rem\" }}>\n            {addMutation.isPending ? \"Adding...\" : \"Add Expense\"}\n          </button>\n        </form>\n      )}\n\n      <h3>Your Expenses</h3>\n      {expenses.length === 0 ? (\n        <p>No expenses yet.</p>\n      ) : (\n        <ul style={{ listStyle: \"none\", padding: 0 }}>\n          {expenses.map((exp) => (\n            <li key={exp.id} style={{ display: \"flex\", justifyContent: \"space-between\", padding: \"0.5rem 0\", borderBottom: \"1px solid #ccc\" }}>\n              <span>{exp.description} - ${exp.amount.toFixed(2)}</span>\n              <button onClick={() => deleteMutation.mutate(exp.id)}>Delete</button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}