{"ast":null,"code":"var _jsxFileName = \"/Users/thrishakopula/Desktop/Projects/expense-splitter-app/expense-splitter-frontend/src/components/Expenses.js\",\n  _s = $RefreshSig$();\n// src/components/Expenses.js\nimport { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { getExpenses, createExpense, deleteExpense } from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Expenses({\n  group\n}) {\n  _s();\n  const queryClient = useQueryClient();\n  const [desc, setDesc] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n\n  // Fetch expenses for the given group\n  const {\n    data: expenses = [],\n    error,\n    isLoading\n  } = useQuery({\n    queryKey: [\"expenses\", group.id],\n    // unique per group\n    queryFn: () => getExpenses(group.id),\n    enabled: !!(group !== null && group !== void 0 && group.id) // only run if group is selected\n  });\n\n  // Create expense\n  const createMutation = useMutation({\n    mutationFn: newExpense => createExpense(group.id, newExpense),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [\"expenses\", group.id]\n      });\n      setDesc(\"\");\n      setAmount(\"\");\n    }\n  });\n\n  // Delete expense\n  const deleteMutation = useMutation({\n    mutationFn: expenseId => deleteExpense(group.id, expenseId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [\"expenses\", group.id]\n      });\n    }\n  });\n  if (!group) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Select a group to view expenses.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 22\n  }, this);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading expenses...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Error fetching expenses: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Expenses for \", group.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Description\",\n      value: desc,\n      onChange: e => setDesc(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"Amount\",\n      value: amount,\n      onChange: e => setAmount(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => createMutation.mutate({\n        description: desc,\n        amount: parseFloat(amount)\n      }),\n      children: \"Add Expense\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: expenses.map(exp => {\n        var _exp$paidBy;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [exp.description, \" \\u2014 $\", exp.amount, \" (Paid by\", \" \", ((_exp$paidBy = exp.paidBy) === null || _exp$paidBy === void 0 ? void 0 : _exp$paidBy.name) || \"Unknown\", \")\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteMutation.mutate(exp.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, exp.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Expenses, \"Toa677sVg9AfJjzozJTifl5BUJA=\", false, function () {\n  return [useQueryClient, useQuery, useMutation, useMutation];\n});\n_c = Expenses;\nexport default Expenses;\nvar _c;\n$RefreshReg$(_c, \"Expenses\");","map":{"version":3,"names":["useState","useQuery","useMutation","useQueryClient","getExpenses","createExpense","deleteExpense","jsxDEV","_jsxDEV","Expenses","group","_s","queryClient","desc","setDesc","amount","setAmount","data","expenses","error","isLoading","queryKey","id","queryFn","enabled","createMutation","mutationFn","newExpense","onSuccess","invalidateQueries","deleteMutation","expenseId","children","fileName","_jsxFileName","lineNumber","columnNumber","message","name","type","placeholder","value","onChange","e","target","onClick","mutate","description","parseFloat","map","exp","_exp$paidBy","paidBy","_c","$RefreshReg$"],"sources":["/Users/thrishakopula/Desktop/Projects/expense-splitter-app/expense-splitter-frontend/src/components/Expenses.js"],"sourcesContent":["// src/components/Expenses.js\nimport { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { getExpenses, createExpense, deleteExpense } from \"../api/api\";\n\nfunction Expenses({ group }) {\n  const queryClient = useQueryClient();\n  const [desc, setDesc] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n\n  // Fetch expenses for the given group\n  const { data: expenses = [], error, isLoading } = useQuery({\n    queryKey: [\"expenses\", group.id], // unique per group\n    queryFn: () => getExpenses(group.id),\n    enabled: !!group?.id, // only run if group is selected\n  });\n\n  // Create expense\n  const createMutation = useMutation({\n    mutationFn: (newExpense) => createExpense(group.id, newExpense),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"expenses\", group.id] });\n      setDesc(\"\");\n      setAmount(\"\");\n    },\n  });\n\n  // Delete expense\n  const deleteMutation = useMutation({\n    mutationFn: (expenseId) => deleteExpense(group.id, expenseId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"expenses\", group.id] });\n    },\n  });\n\n  if (!group) return <p>Select a group to view expenses.</p>;\n  if (isLoading) return <p>Loading expenses...</p>;\n  if (error) return <p>Error fetching expenses: {error.message}</p>;\n\n  return (\n    <div>\n      <h2>Expenses for {group.name}</h2>\n\n      {/* Add new expense */}\n      <input\n        type=\"text\"\n        placeholder=\"Description\"\n        value={desc}\n        onChange={(e) => setDesc(e.target.value)}\n      />\n      <input\n        type=\"number\"\n        placeholder=\"Amount\"\n        value={amount}\n        onChange={(e) => setAmount(e.target.value)}\n      />\n      <button\n        onClick={() =>\n          createMutation.mutate({ description: desc, amount: parseFloat(amount) })\n        }\n      >\n        Add Expense\n      </button>\n\n      {/* List expenses */}\n      <ul>\n        {expenses.map((exp) => (\n          <li key={exp.id}>\n            {exp.description} â€” ${exp.amount} (Paid by{\" \"}\n            {exp.paidBy?.name || \"Unknown\"})\n            <button onClick={() => deleteMutation.mutate(exp.id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Expenses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}